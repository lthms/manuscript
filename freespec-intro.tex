\documentclass[oneside,a4paper]{memoir}
\setsecnumdepth{subsection}

\usepackage[chapter]{minted}
\usemintedstyle{bw}
\setminted{framesep=10pt,xleftmargin=18pt,frame=leftline,linenos=true}

% ABOUT THIS FILE
% ---------------
% The goal of this document is to prepare the next (and final?) version of the
% chapter 3.

\usepackage[sc]{mathpazo}    % Palatino with smallcaps
\usepackage[scaled]{helvet}  % Helvetica, scaled 95%
\usepackage{eulervm}
\usepackage{inconsolata}

\usepackage{bigcenter}
\usepackage{geometry}
\usepackage{paralist}
\usepackage{hyperref}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{bussproofs}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{inconsolata}

\usepackage[dvipsnames]{xcolor}
\usepackage{xargs}
\usepackage{todonotes}
\newcommandx{\thomasrk}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}

\usepackage{mdframed} % or, "mdframed"
\usepackage[amsthm,framed]{ntheorem}
\newcommand{\powerset}{\raisebox{.15\baselineskip}{\Large\ensuremath{\wp}}}

\definecolor{statementline}{HTML}{b7e2d6}

\theoremstyle{break}
\theorembodyfont{\fontshape\rmdefault\selectfont}

\mdfdefinestyle{quoted}{
hidealllines=true,
leftmargin=-15pt,
rightmargin=-15pt,
leftline=true,
innertopmargin=10pt,
innerbottommargin=10pt,
innerrightmargin=15pt,
linewidth=5pt,
linecolor=gray!40,
backgroundcolor=gray!3,
usetwoside=false,
skipabove=\topsep,
skipbelow=\topsep}

\mdfdefinestyle{definition}{
style=quoted,
linecolor=Violet!20,
backgroundcolor=Violet!2}

\mdfdefinestyle{statement}{
style=quoted,
linecolor=PineGreen!30,
backgroundcolor=PineGreen!2}

\newmdtheoremenv[style=definition]{definition}{Definition}[chapter]
\newmdtheoremenv{notation}{Notation}[chapter]
\newmdtheoremenv[style=quoted]{example}{Example}[chapter]
\newmdtheoremenv[style=statement]{corollary}{Corollary}[chapter]
\newmdtheoremenv[style=statement]{lemma}{Lemma}[chapter]
\newmdtheoremenv[style=statement]{theorem}{Theorem}[chapter]

\usepackage{tikz}
\usetikzlibrary{shapes.geometric, positioning, arrows, intersections, fit,
  matrix, shapes, shapes.symbols}

\usepackage{acro}
\input{abbrev}

\begin{document}

\chapter{FreeSpec}

\section{A Compositional Reasoning Framework}

\subsection{SpecCert Limitations}

\paragraph{Abstract Model}
%
\begin{itemize}
\item Mix of a concrete and abstract model
\item As a consequence, the model is not really reusable
\item May work for similar security properties only
\item We need a clear separation between the two
\end{itemize}

\paragraph{Monolithic Model}
%
\begin{itemize}
\item The transitions are not atomic.
\item The ``\texttt{remember; assert; apply}'' pattern
  \begin{itemize}
  \item \texttt{remember} : cleanup the goal, by naming intermediary states
  \item \texttt{assert} : create intermediary goals to show \texttt{inv} is
    preserved
  \item \texttt{apply} : Prove the intermediary goal as a lemma, and apply the
    lemma
  \end{itemize}
\item The airlock system problem avoided, only by luck and not formally
\end{itemize}

Lorem ipusm Lorem ipusm Lorem ipusm Lorem ipusm Lorem ipusm Lorem ipusm Lorem
ipusm Lorem ipusm Lorem ipusm Lorem ipusm

\begin{figure}
  \inputminted{coq}{Listings/StateHell.v}

  \caption{Raw postcondition of a \texttt{Write} transition with a writeback
    strategy}
  \label{fig:freespec:postcondition}
\end{figure}


\begin{figure}
  \inputminted{coq}{Listings/RememberPattern.v}

  \caption{Postcondition of a \texttt{Write} transition with a writeback
    strategy, after the use of the \texttt{remember} tactic}
  \label{fig:freespec:rememberpost}
\end{figure}

\bibliographystyle{unsrt}%
\bibliography{manuscript}
\end{document}