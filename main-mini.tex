\documentclass[a4paper,oneside]{book}

\usepackage[dvipsnames]{xcolor}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[chapter]{minted}
\usemintedstyle{bw}
\usepackage{tocbibind}
\usepackage[babel=true,kerning=true,spacing=true,auto=true]{microtype}
\usepackage[babel=true]{csquotes}
\usepackage{makeidx}
\usepackage[mathscr]{euscript}
\let\euscr\mathscr \let\mathscr\relax% just so we can load this and rsfs
\usepackage[scr]{rsfso}
\newcommand{\powerset}{\raisebox{.15\baselineskip}{\Large\ensuremath{\wp}}}

\usepackage[light,math]{iwona}
\usepackage[light]{merriweather}
\usepackage{inconsolata}
\let\openbox\undefine
\let\circledS\undefine
\linespread{1.25}
\DeclareMathSizes{10}{12}{9}{6}

\setminted{framesep=10pt,xleftmargin=18pt,frame=leftline,linenos=true}

% Use -- instead of bullet for itemize
\renewcommand{\labelitemi}{\normalfont\textendash}

\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{bussproofs}
\usepackage{paralist}
\usepackage{bigcenter}
\usepackage[mode=buildnew]{standalone}
\usepackage[index=true]{acro}
\usepackage{xargs}
\usepackage{todonotes}
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  allcolors=Violet
}

\usepackage[explicit]{titlesec}
\usepackage{type1cm}
\titleformat{\chapter}[display]
  {\normalfont\Large}
  {\flushright\fontsize{90}{0}\textbf{\textcolor{Violet!20}{\thechapter}}}{10pt}
  {\flushright\fontsize{30}{0}\textbf{#1}\vskip80pt}
\titlespacing*{\chapter}
  {0pt}{-40pt}{0pt}

\newcommand\abstractname{Abstract}  %%% here
\makeatletter
\if@titlepage
  \newenvironment{abstract}{%
      \titlepage
      \null\vfil
      \@beginparpenalty\@lowpenalty
      \begin{center}%
        \bfseries \abstractname
        \@endparpenalty\@M
      \end{center}}%
     {\par\vfil\null\endtitlepage}
\else
  \newenvironment{abstract}{%
      \if@twocolumn
        \section*{\abstractname}%
      \else
        \small
        \begin{center}%
          {\bfseries \abstractname\vspace{-.5em}\vspace{\z@}}%
        \end{center}%
        \quotation
      \fi}
      {\if@twocolumn\else\endquotation\fi}
\fi
\makeatother

\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}

\usepackage{mdframed} % or, "mdframed"
\usepackage[amsthm,framed]{ntheorem}

\definecolor{statementline}{HTML}{b7e2d6}

\theoremstyle{break}
\theorembodyfont{\normalfont}

\mdfdefinestyle{quoted}{
hidealllines=true,
leftmargin=-15pt,
leftline=true,
innertopmargin=5pt,
innerbottommargin=5pt,
linewidth=5pt,
linecolor=gray!40,
%backgroundcolor=gray!5,
innerrightmargin=0pt,
skipabove=\topsep,
skipbelow=\topsep}

\mdfdefinestyle{definition}{
style=quoted,
linecolor=Violet!20}

\mdfdefinestyle{statement}{
style=quoted,
linecolor=statementline}

\newmdtheoremenv[style=definition]{definition}{Definition}[chapter]
\newmdtheoremenv{notation}{Notation}[chapter]
\newmdtheoremenv[style=quoted]{example}{Example}[chapter]
\newmdtheoremenv[style=statement]{lemma}{Lemma}[chapter]
\newmdtheoremenv[style=statement]{theorem}{Theorem}[chapter]

% A command I use to leave myself notes
\newcommandx{\thomasrk}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}

\usepackage{tikz}
\usetikzlibrary{shapes.geometric, positioning, arrows, intersections, fit, matrix}

\usepackage{phdcmd}
\usepackage{speccert}
\usepackage{freespec}

\usepackage{todonotes}
\newcommand\TODO[1]{\todo[inline,linecolor=red,backgroundcolor=red!25,bordercolor=red]{\textbf{TODO:} #1}}

\input{abbrev}
\input{nomencl}

\title{Specifying and Verifying Hardware-based Security Enforcement Mechanisms}
\author{Thomas Letan}
\date{2015 -- 2018}

\newpagestyle{phd}{
  \sethead[\small\itshape\ifthechapter{\thechapter\enspace}{}\chaptertitle][][]%
    {}{}{\small\itshape\ifthesection{\thesection\enspace}{}\sectiontitle}
  \setfoot*{}{}{\thepage}
}

\pagestyle{phd}

\makeindex

\begin{document}
  \frontmatter

  \maketitle

  \begin{abstract}
    \input{abstract}
  \end{abstract}

  \tableofcontents
  \listoffigures
  \listoftables
  \printacronyms[include-classes={abbrev},heading={chapter},name=Acronyms]
  \acsetup{only-used=false}
  \printacronyms[include-classes={nomencl},heading={chapter},name=Notations]

  \mainmatter

  \input{Chapters/Introduction}
  \input{Chapters/UseCase}
  \input{Chapters/RelatedWorks}
  \input{Chapters/SpecCert}
  \input{Chapters/FreeSpec}
  \input{Chapters/Conclusion}

  \appendix

  \input{Appendices/SpecCert}
  \input{Appendices/FreeSpecTutorial}

  \bibliographystyle{unsrt}
  \bibliography{manuscript}
  \printindex
\end{document}